<div class="order-list">
    <h2>My Orders</h2>

    <div class="order-list-header">
        <button mat-stroked-button color="accent" (click)="goBack()">Back to Cart</button>
    </div>

    <table mat-table [dataSource]="orders" class="mat-elevation-z8 order-table">

        <!-- ID del pedido -->
        <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef class="header-cell">Order ID</th>
            <td mat-cell *matCellDef="let order" class="data-cell"> {{ order.id | slice:0:4 }} </td>
        </ng-container>

        <!-- Fecha del pedido -->
        <ng-container matColumnDef="orderDate">
            <th mat-header-cell *matHeaderCellDef class="header-cell">Order Date</th>
            <td mat-cell *matCellDef="let order" class="data-cell"> {{order.orderDate | date}} </td>
        </ng-container>

        <!-- DirecciÃ³n -->
        <ng-container matColumnDef="address">
            <th mat-header-cell *matHeaderCellDef class="header-cell">Address</th>
            <td mat-cell *matCellDef="let order" class="data-cell"> {{order.address}} </td>
        </ng-container>

        <!-- Cantidad total -->
        <ng-container matColumnDef="totalAmount">
            <th mat-header-cell *matHeaderCellDef class="header-cell">Total Amount</th>
            <td mat-cell *matCellDef="let order" class="data-cell"> {{order.totalAmount | currency}} </td>
        </ng-container>

        <!-- Estado del pedido -->
        <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef class="header-cell">Status</th>
            <td mat-cell *matCellDef="let order" class="data-cell"> {{order.status}} </td>
        </ng-container>

        <!-- Lista de productos -->
        <ng-container matColumnDef="orderDetails">
            <th mat-header-cell *matHeaderCellDef class="header-cell">Products</th>
            <td mat-cell *matCellDef="let order" class="data-cell">
                <div *ngFor="let detail of order.orderDetails" class="product-detail">
                    <span class="product-id">{{ detail.productId }}</span> -
                    <span class="quantity">{{ detail.quantity }} units</span>
                    <span class="price">{{ detail.price | currency }}</span>
                </div>
            </td>
        </ng-container>

        <!-- Encabezado de la tabla -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns" class="header-row"></tr>

        <!-- Filas de la tabla -->
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="data-row"></tr>
    </table>
</div>
